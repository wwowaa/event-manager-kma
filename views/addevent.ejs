<!DOCTYPE html>
<!-- This site was created in Webflow. https://www.webflow.com --><!-- Last Published: Fri Jun 02 2023 11:15:06 GMT+0000 (Coordinated Universal Time) -->
<html
  data-wf-domain="vabetechs-event-manager.webflow.io"
  data-wf-page="647656c1558e6661a7504188"
  data-wf-site="647656c1558e6661a7504185"
>
  <head>
    <meta charset="utf-8" />
    <title>VabeTech&#x27;s Event Manager</title>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="Webflow" name="generator" />
    <link
      href="https://uploads-ssl.webflow.com/647656c1558e6661a7504185/css/vabetechs-event-manager.webflow.b8cbbf1cb.css"
      rel="stylesheet"
      type="text/css"
    />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link
      href="https://fonts.gstatic.com"
      rel="preconnect"
      crossOrigin="anonymous"
    />
    <script
      src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"
      type="text/javascript"
    ></script>
    <script type="text/javascript">
      WebFont.load({
        google: {
          families: [
            "Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic",
            "Montserrat Alternates:regular",
          ],
        },
      });
    </script>
    <script type="text/javascript">
      !(function (o, c) {
        var n = c.documentElement,
          t = " w-mod-";
        (n.className += t + "js"),
          ("ontouchstart" in o ||
            (o.DocumentTouch && c instanceof DocumentTouch)) &&
            (n.className += t + "touch");
      })(window, document);
    </script>
    <link
      href="https://uploads-ssl.webflow.com/img/favicon.ico"
      rel="shortcut icon"
      type="image/x-icon"
    />
    <link
      href="https://uploads-ssl.webflow.com/img/webclip.png"
      rel="apple-touch-icon"
    />
  </head>

  <body class="body-2">
    <section class="wf-section">
      <div class="container w-container">
        <img
          src="https://uploads-ssl.webflow.com/647656c1558e6661a7504185/647658ea0a96c077e089650e_Vectors-Wrapper.svg"
          loading="lazy"
          alt=""
        />
      </div>
    </section>
    <section class="wf-section">
      <div class="container-2 w-container">
        <h1 class="heading">EVENT MANAGER</h1>
      </div>
    </section>
    <section class="section wf-section">
      <div class="container-3 w-container">
        <p class="paragraph-2">Add Event</p>
      </div>
    </section>
    <section>
      <div class="container-4 w-container">
        <form id="signup-form">
          <label for="eventname" class="field-label">Event name</label>
          <input
            type="text"
            class="w-input"
            maxlength="256"
            name="username"
            data-name="username"
            placeholder=""
            id="eventname"
            required
          />
          <div class="eventname error"></div>
          <label for="organiser" class="field-label">Organiser</label>
          <input
            type="text"
            class="w-input"
            maxlength="256"
            name=""
            data-name="organiser"
            placeholder=""
            id="organiser"
            required
          />
          <div class="organiser error"></div>
          <label for="date" class="field-label">Date</label>
          <input
            type="date"
            class="w-input"
            maxlength="256"
            name="date"
            data-name="date"
            placeholder=""
            id="date"
            required
          />
          <div class="date error"></div>
          <label for="time" class="field-label"
            >Time</label
          >
          <input
            type="text"
            class="w-input"
            maxlength="256"
            name="time"
            data-name="time"
            placeholder=""
            id="time"
            required
          />
          <div class="time error"></div>
          <label for="location" class="field-label"
            >Location</label
          >
          <input
            type="text"
            class="w-input"
            maxlength="256"
            name="location"
            data-name="location"
            placeholder=""
            id="location"
            required
          />
          <div class="location error"></div>
          <label for="description" class="field-label"
            >Description</label
          >
          <input
            type="text"
            class="w-input"
            maxlength="1000"
            name="description"
            data-name="description"
            placeholder=""
            id="description"
            required
          />
          <div class="location error"></div>
          <div
            id="w-node-e338ce3f-f36d-760c-8337-1c162cb76e4a-a7504188"
            class="container-14 w-container"
          >
            <button type="submit" class="button-copy w-button">Add event</button>
            <div class="container-10 w-container">
               <a href="/mainpage" class="button-2 w-button">BACK</a>
            </div>
            </section>
          </div>
        </form>
      </div>
    </section>
    <section class="section-3 wf-section">
      <div class="container-6 w-container">
        <h1 class="heading-2">Â©VabeTech 2023</h1>
      </div>
    </section>
    <script
      src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=647656c1558e6661a7504185"
      type="text/javascript"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossOrigin="anonymous"
    ></script>
    <script
      src="https://uploads-ssl.webflow.com/647656c1558e6661a7504185/js/webflow.54ba778de.js"
      type="text/javascript"
    ></script>
    <script>
      const form = document.querySelector("#signup-form");
      

      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        const eventname = form.eventname.value;
        const organiser= form.organiser.value;
        const date = form.date.value;
        const time = form.time.value;
        const location = form.location.value;
        const description = form.description.value;
       
        try {
          const res = await fetch('/addevent', {
            method: 'POST',
            body: JSON.stringify({ eventname, organiser, date, time, location, description }),
            headers: {'Content-Type': 'application/json' }
          });
          const data = await res.json();
          //Redirect to the event page
          if (data.event) {
            window.location.href = '/' + data.event;
          }
          
        }
        catch (err) {
          console.log(err);
        }
      });
    </script>
  </body>
</html>
